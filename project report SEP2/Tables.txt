create schema "Clinic";
set search_path = 'Clinic';

CREATE TABLE Patient
(
	patientId       CHAR (4),
    firstName       VARCHAR (20),
    lastName        VARCHAR (20),
    dob			    DATE,
	telNumber		VARCHAR (20),
	email			VARCHAR (40),
	gender			char (1),
		
    PRIMARY KEY (patientId));
	
	
CREATE TABLE Employee
(
	employeeId      CHAR (4),
    firstName       VARCHAR (20),
    lastName        VARCHAR (20),
    dob			    DATE,
	telNumber		VARCHAR (20),
	email			VARCHAR (40),
	gender			char (1),
	startDate		DATE,
	
    PRIMARY KEY (employeeId));	
	

CREATE TABLE Secretary
(
	secretaryId       CHAR (4),
    firstName       VARCHAR (20),
    lastName        VARCHAR (20),
    dob			    DATE,
	telNumber		VARCHAR (20),
	email			VARCHAR (40),
	gender			char (1),
	startDate		DATE,
		
    PRIMARY KEY (secretaryId));
	
select * from doctor;


CREATE TABLE Doctor
(
	doctorId        CHAR (4),
    firstName       VARCHAR (20),
    lastName        VARCHAR (20),
    dob			    DATE,
	telNumber		VARCHAR (20),
	email			VARCHAR (40),
	gender			char (1),
	startDate		DATE,
		
    PRIMARY KEY (doctorId));
	

Create table RequestRenewal
(
	requestRenewalId	CHAR (4),
	dateOfRequest		DATE,	
	dateOfDecision		DATE,
	patientId			CHAR (4),
	
	PRIMARY KEY	(requestRenewalId), 
	FOREIGN KEY (patientID) REFERENCES Patient(patientID));
	

Create table Appointment
(
	patientId			CHAR (4),
	dateOfAppointment	CHAR (4),
	time				DATE,	
	date				DATE,
	
	
	PRIMARY KEY	(dateOfAppointment, time ), 
	FOREIGN KEY (patientID) REFERENCES Patient(patientID));
	
	
Create table Medicine
(
	medicineId			Char (4),
	name				VarChar (20),
	type				VarChar (20),
	description			VarChar (50),
	
	Primary key (medicineId));
	
	
Create table RecordsOfRequestForRenewal
(
	recordsOfRequestForRenewalId		Char (4),
	requestRenewalId					CHAR (4),
	medicineId							Char (4),
	approved							CHAR (4),
	quantity							DATE,	
	dailyDosage							DATE,
	
	
	PRIMARY KEY	(recordsOfRequestForRenewalId),
	FOREIGN KEY (requestRenewalId) REFERENCES RequestRenewal(requestRenewalId),
	FOREIGN KEY (medicineId) REFERENCES Medicine(medicineId));	


Create table Precription
(
	prescriptionId		Char (4),
	caseId				Char (4),
	date				DATE,

	
	Primary key (prescriptionId),
	Foreign key (caseId) References MedicalCase (caseId));
	
	
Create table MedicalCase
(
	caseId				Char (4),
	medicalRecodId		Char (4),
	caseTitle			VarChar (20),
	caseBody			VarChar (20),
	date				DATE,
	Primary key (caseId),
	Foreign key (medicalRecodId) References MedicalRecord (medicalRecodId));


Create table MedicalRecord
(
	medicalRecodId		Char (4),
	
	Primary key (medicalRecodId));

Create table PrescriptionRecord
(
	prescriptionRecordId	Char (4),
	medicineId				VarChar (20),
	dailyDose				VarChar (2),

	
	Primary key (prescriptionRecordId),
	Foreign key (medicineId) References Medicine (medicineId));



	
	